"use client";
/* eslint-disable */const r={},e={},t="onViewWillMount",n="onViewMounted",u="onViewWillUpdate",o="onViewUpdated",c="onViewWillUnmount",i="onViewUnmounted",s="onDataChange",l="data",a="methods",f="view",y="mixins",w="computed",p="$VM",h="now",m="val",d="update",O="then",P="key",v="function",T="object",A="unmountView",b="nextTick",g="*",V="watch",k="init",$="dom",x="jsx",M="paramErr1",D="refDOM",U="memoBox",j="$DOM",q="eventBus",F="batchUpdate",S="globalBox",R="undefined",B=(B,E)=>{if(typeof B.version===R||B.version.split(".")[0]<17)return void console.error("params1 must be React and version >= 17 !");const{useState:J,useEffect:W,useRef:N,createRef:C,isValidElement:X}=B,z=N(0),G=N(!1);let H=pr(E[l]);const[I,K]=J(H),L=N(H),Q=N(H);H=null;const[Y,Z]=J(null),_=N(!1),rr=N(!1),er=N(!1),tr=N(!1),nr=N(null),ur=N(null),or=(N({}),N("")),cr=N([]),ir=(N(""),N({}),N({})),sr=N(!1),lr=N(null),ar=N({}),fr=N({}),yr=(N(),N(0));function wr(r,e){const t=Object.keys,n=typeof r;return r&&e&&n===T&&n===typeof e?t(r).length===t(e).length&&t(r).every((t=>wr(r[t],e[t]))):r===e}function pr(r){let e=Array.isArray(r)?[]:{};for(let t in r){let n=r[t];e[t]=typeof n===T&&null!==r?pr(n):n}return e}function hr(r,e,t=""){const n=r=>{throw t+r};if(-1===e.indexOf("."))return r.hasOwnProperty(e)?r[e]:void n(e);const u=e.split("."),o=u.shift();if(r.hasOwnProperty(o))return t+=o+".",hr(r[o],u.join("."),t);n(o)}sr.current={set:function(r,e){return ir.current[r]=e,typeof ir.current[r]!==R},get:function(r){return ir.current[r]||!1},del:function(r){return delete ir.current[r],typeof ir.current[r]===R}};const mr=()=>{setTimeout((()=>{window.requestAnimationFrame((function(){!0!==tr.current&&(E.hasOwnProperty(o)&&E[o](nr.current,r),(()=>{if(!1!==cr.current.hasOwnProperty(or.current)){const r=cr.current[or.current];let e;for(let t=0,n=r.length;t<n;t++){if(e=r.shift(),!0===tr.current)return;typeof e===v&&e()}delete cr.current[or.current],or.current=(.001*window.crypto.getRandomValues(new Uint8Array(1))).toString(36).slice(2,7)}})())}))}),0)},dr=(r,e=null)=>{switch(r){case k:(()=>{const[r,t]=e;console.error(`${r} error: "${t}" is not init in the data object !`)})();break;case $:(()=>{const r=e;console.error(`$DOM error: use DOM key "${r}" is not exist !`)})();break;case M:(()=>{const[r,t]=e;console.error(`${r} error: param ${t} must be function !`)})();break;case x:(()=>{const r=e;console.error(`${r}: must be a valid react component(JSX) !`)})()}},Or=function(t){const n=function(){};let o=e=>{const t=function(e,t=()=>{}){if(er.current)return;const n=(new Date).getTime();let o=()=>{};const c=this.key;!1===ar.current.hasOwnProperty(n)?(ar.current[n]=1,o=()=>(t(),!0),setTimeout((()=>{delete ar.current[n]}),5e3)):delete ar.current[n],K((t=>{new Promise((r=>{r(Promise.resolve((()=>new Promise((r=>{window.requestAnimationFrame((function(){r()}))})))))})).then((e=>new Promise((r=>{setTimeout((()=>{r(e)}),100)})).then((e=>(Promise.resolve((r=>r)).then((r=>Promise.resolve(r()))),()=>{!1===ar.current.hasOwnProperty(n)?(ar.current[n]=1,!0===_.current&&E.hasOwnProperty(u)&&E[u](nr.current,r),o()&&mr(),setTimeout((()=>{delete ar.current[n]}),5e3)):delete ar.current[n]}))))).then((r=>{r()}));let i=(r=>{let e=r;return Array.isArray(r)?e=[...r]:typeof r===T&&(e={...r}),e})(t);const s={ref:null};let l=c;return s.ref=i,s.ref[l]=e,!1===ar.current.hasOwnProperty(n)?(ar.current[n]=1,setTimeout((()=>{delete ar.current[n]}),5e3)):delete ar.current[n],{...i}}))},n=function(r){let e;return r&&(e=r()),this},o=function(r){r&&r()},c=function(){const r=this.key;let e={...L.current};try{let t=e[r];return e=Array.isArray(t)||typeof t===T?pr(t):JSON.parse(JSON.stringify(t)),e}catch(e){return dr(k,[p,r]),null}};return(i={})[P]=e,i[m]=t,i[d]=n,i[h]=c,i[O]=o,i;var i};const c=()=>nr.current,i=r=>!0!==fr.current.hasOwnProperty(r)?(dr($,r),null):fr.current[r].current,s=r=>{typeof r===v?(!0!==cr.current.hasOwnProperty(or.current)&&(cr.current[or.current]=[]),cr.current[or.current].push(r)):dr(M,[b,"1"])};return t(((l={})[p]=o,l[U]=sr.current,l.getMethods=c,l[j]=i,l[b]=s,l[q]=r,l[F]=n,l[S]=e,l));var l};if(null===nr.current){if(nr.current={},E.hasOwnProperty(a)){if(typeof E[a]!==v)return void dr(M,[a,"1"]);let r=E[a];nr.current=Or(r),r=null}E.hasOwnProperty(y),nr.current[A]=()=>{!1===tr.current&&(tr.current=!0,er.current=!0,E.hasOwnProperty(c)&&E[c](nr.current,r),K(!1),Z(null))}}return null===lr.current&&(lr.current={},E.hasOwnProperty(w)),null===ur.current&&(ur.current={},E.hasOwnProperty(y)),W((()=>{!1!==I?(L.current=pr(I),((r,e,t,n)=>{const u=e=>{if(e===g)return r;try{return hr(r,e)}catch(r){return dr(k,[p,r]),null}},o=r=>(!0===fr.current.hasOwnProperty(r)||(fr.current[r]=C()),fr.current[r]),c=E[f]((r=>(r[p]=u,r[a]=e,r[D]=o,r[w]=t,r[U]=sr.current,r.components=n,r))({}));!0===X(c)?Z(c):dr(x,f)})(I,nr.current,lr.current,ur.current)):Z(null)}),[I]),W((()=>{if(!0!==rr.current||!0===tr.current)return;const r=(r,e)=>{if(typeof e===v){if(r!==g){let t,n,u=!0;if(r===g)t=I,n=Q.current;else try{if(t=I[r],n=Q.current[r],!Q.current.hasOwnProperty(r))throw r}catch(e){dr(k,[V,r]),u=!1}!0===u&&!1===wr(t,n)&&e(t,n)}}else dr(M,[V,"2"])};window.requestAnimationFrame((function(){typeof E[s]===v&&E[s](r,nr.current),setTimeout((()=>{Q.current=pr(I)}),0)}))}),[I]),W((()=>{const e=r=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{r()}),0)}))}),0)};if(!0!==tr.current){if(!0===_.current&&!1===rr.current)e((()=>{setTimeout((()=>{E.hasOwnProperty(n)&&E[n](nr.current,r)}),0)})),rr.current=!0;else if(!0===rr.current&&G.current&&2==z.current)return void(z.current=3);!1===_.current&&null===Y&&(E.hasOwnProperty(t)&&E[t](nr.current,r),_.current=!0)}else e((()=>{E.hasOwnProperty(i)&&E[i](nr.current,r),L.current=null,nr.current=null}))}),[Y]),W((()=>{z.current++,z.current>1&&(G.current=!0)}),[]),W((()=>()=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{G.current&&yr.current++,1!=yr.current&&(er.current=!0,E.hasOwnProperty(c)&&E[c](nr.current,r),tr.current=!0,setTimeout((()=>{E.hasOwnProperty(i)&&E[i](nr.current,r)}),0))}),0)}))}),0)}),[]),[Y,nr.current,r]};export{B as useRespectVue};
