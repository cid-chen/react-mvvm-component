"use client";
/* eslint-disable */const r={},e={},t="onViewWillMount",n="onViewMounted",u="onViewWillUpdate",o="onViewUpdated",c="onViewWillUnmount",i="onViewUnmounted",s="onDataChange",l="data",a="methods",f="view",y="mixins",p="computed",h="$VM",w="now",m="val",d="update",O="then",P="key",v="function",b="object",$="unmountView",g="nextTick",A="getMethods",V="*",k="watch",T="init",x="dom",M="jsx",U="paramErr1",j="refDOM",D="memoBox",S="components",R="$DOM",q="eventBus",B="batchUpdate",E="globalBox",F="undefined",J=(J,W)=>{if(typeof J.version===F||J.version.split(".")[0]<17)return void console.error("params1 must be React and version >= 17 !");const{useState:C,useEffect:N,useRef:X,createRef:z,isValidElement:G}=J,H=X(0),I=X(!1);let K=wr(W[l]);const[L,Q]=C([null,K]),Y=X(K),Z=X(K);K=null;const[_,rr]=C(null),er=X(!1),tr=X(!1),nr=X(!1),ur=X(!1),or=X(null),cr=X(null),ir=(X({}),X("")),sr=X(!1),lr=(X(""),X({}),X({})),ar=X(!1),fr=X(null),yr=(X({}),X({})),pr=(X(),X(0));function hr(r,e){const t=Object.keys,n=typeof r;return r&&e&&n===b&&n===typeof e?t(r).length===t(e).length&&t(r).every((t=>hr(r[t],e[t]))):r===e}function wr(r){let e=Array.isArray(r)?[]:{};for(let t in r){let n=r[t];e[t]=typeof n===b&&null!==r?wr(n):n}return e}function mr(r,e,t=""){const n=r=>{throw t+r};if(-1===e.indexOf("."))return r.hasOwnProperty(e)?r[e]:void n(e);const u=e.split("."),o=u.shift();if(r.hasOwnProperty(o))return t+=o+".",mr(r[o],u.join("."),t);n(o)}ar.current={set:function(r,e){return lr.current[r]=e,typeof lr.current[r]!==F},get:function(r){return lr.current[r]||!1},del:function(r){return delete lr.current[r],typeof lr.current[r]===F}};const dr=()=>{if(!1!==sr.current){const r=sr.current[ir.current];let e;for(let t=0,n=r.length;t<n;t++){if(e=r.shift(),!0===ur.current)return;typeof e===v&&e()}delete sr.current[ir.current],sr.current=!1,ir.current=""}},Or=(r,e)=>{const t=e,n=r[0];typeof n===v&&n(),t()},Pr=r=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{r()}),0)}))}),0)},vr=(r,e=null)=>{switch(r){case T:(()=>{const[r,t]=e;console.error(`${r} error: "${t}" is not init in the data object !`)})();break;case x:(()=>{const r=e;console.error(`$DOM error: use DOM key "${r}" is not exist !`)})();break;case U:(()=>{const[r,t]=e;console.error(`${r} error: param ${t} must be function !`)})();break;case M:(()=>{const r=e;console.error(`${r}: must be a valid react component(JSX) !`)})()}},br=function(t){const n=function(){};let o=e=>{const t=function(e,t=()=>{}){if(nr.current)return;let n=()=>{};const o=this.key;if(typeof t!==v)return void vr(U,[`${h}.${m}`,"2"]);n=()=>(t(),!0);(r=>{typeof W[s]===v&&W[s](r,or.current)})(((r,t)=>{if(typeof t===v){if(r!==V)try{let n,u,c=!0;if(n=e,u=Z.current[o],!Z.current.hasOwnProperty(o))throw r;r==o&&!0===c&&!1===hr(n,u)&&t(n,u)}catch(e){vr(T,[k,r]),isToCompare=!1}}else vr(U,[k,"2"])})),!0===er.current&&W.hasOwnProperty(u)&&W[u](or.current,r),Q((r=>{const[t,u]=r,c={ref:null};new Promise((r=>{r(Promise.resolve((()=>new Promise((r=>{window.requestAnimationFrame((function(){r()}))})))))})).then((r=>new Promise((e=>{setTimeout((()=>{e(r)}),0)})).then((r=>(Promise.resolve((r=>r)).then((r=>Promise.resolve(r()))),()=>{Z.current=c.ref}))))).then((r=>{r()}));let i=(r=>{let e=r;return Array.isArray(r)?e=[...r]:typeof r===b&&(e={...r}),e})(u),s=o;return c.ref=i,c.ref[s]=e,[n,{...i}]}))},n=function(r){let e;return r&&(e=r()),this},o=function(r){r&&r()},c=function(){const r=this.key;let e={...Y.current};try{let t=e[r];return e=Array.isArray(t)||typeof t===b?wr(t):JSON.parse(JSON.stringify(t)),e}catch(e){return vr(T,[h,r]),null}};return(i={})[P]=e,i[m]=t,i[d]=n,i[w]=c,i[O]=o,i;var i};const c=()=>or.current,i=r=>!0!==yr.current.hasOwnProperty(r)?(vr(x,r),null):yr.current[r].current,l=r=>{typeof r===v?(""===ir.current&&(ir.current=(.001*window.crypto.getRandomValues(new Uint8Array(1))).toString(36).slice(2,7)),!1===sr.current&&(sr.current=[],sr.current[ir.current]=[]),sr.current[ir.current].push(r)):vr(U,[g,"1"])};return t(((a={})[h]=o,a[D]=ar.current,a[A]=c,a[R]=i,a[g]=l,a[q]=r,a[B]=n,a[E]=e,a));var a};if(null===or.current){if(or.current={},W.hasOwnProperty(a)){if(typeof W[a]!==v)return void vr(U,[a,"1"]);let r=W[a];or.current=br(r),r=null}W.hasOwnProperty(y),or.current[$]=()=>{!1===ur.current&&(ur.current=!0,nr.current=!0,W.hasOwnProperty(c)&&W[c](or.current,r),Q(!1),rr(null))}}return null===fr.current&&(fr.current={},W.hasOwnProperty(p)),null===cr.current&&(cr.current={},W.hasOwnProperty(y)),N((()=>{!1!==L?(Y.current=wr(L[1]),((r,e,t,n)=>{const u=e=>{if(e===V)return r;try{return mr(r,e)}catch(r){return vr(T,[h,r]),null}},o=r=>(!0===yr.current.hasOwnProperty(r)||(yr.current[r]=z()),yr.current[r]),c=W[f]((r=>(r[h]=u,r[a]=e,r[j]=o,r[p]=t,r[D]=ar.current,r[S]=n,r))({}));!0===G(c)?rr(c):vr(M,f)})(L[1],or.current,fr.current,cr.current)):rr(null)}),[L]),N((()=>{!0===tr.current&&!0!==ur.current&&Pr((()=>{((e,t,n)=>{const u=e;!0!==ur.current&&(W.hasOwnProperty(o)&&W[o](or.current,r),u(t,n))})(Or,L,dr)}))}),[L]),N((()=>{if(!0!==ur.current){if(!0===er.current&&!1===tr.current)Pr((()=>{setTimeout((()=>{W.hasOwnProperty(n)&&W[n](or.current,r)}),0)})),tr.current=!0;else if(!0===tr.current&&I.current&&2==H.current)return void(H.current=3);!1===er.current&&null===_&&(W.hasOwnProperty(t)&&W[t](or.current,r),er.current=!0)}else Pr((()=>{W.hasOwnProperty(i)&&W[i](or.current,r),Y.current=null,or.current=null}))}),[_]),N((()=>{H.current++,H.current>1&&(I.current=!0)}),[]),N((()=>()=>{setTimeout((()=>{window.requestAnimationFrame((function(){setTimeout((()=>{I.current&&pr.current++,1!=pr.current&&(nr.current=!0,W.hasOwnProperty(c)&&W[c](or.current,r),ur.current=!0,setTimeout((()=>{W.hasOwnProperty(i)&&W[i](or.current,r)}),0))}),0)}))}),0)}),[]),[_,or.current,r]};export{J as useRespectVue};